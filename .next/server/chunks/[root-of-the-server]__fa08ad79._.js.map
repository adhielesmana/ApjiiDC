{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/admin/space/list/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport axios from \"axios\";\nimport { cookies } from \"next/headers\";\n\nexport async function GET(request: Request) {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get(\"token\");\n    const BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\n    console.log(\"Debug - Token:\", token?.value);\n    console.log(\"Debug - Backend URL:\", BACKEND_URL);\n\n    if (!token?.value) {\n      return NextResponse.json(\n        { success: false, message: \"Token not found\" },\n        { status: 401 }\n      );\n    }\n\n    if (!BACKEND_URL) {\n      throw new Error(\"BACKEND_URL not configured\");\n    }\n\n    // Extract query parameters from request URL\n    const { searchParams } = new URL(request.url);\n    const page = searchParams.get(\"page\") || \"1\";\n    const limit = searchParams.get(\"limit\") || \"10\";\n    const provider = searchParams.get(\"provider\");\n    const datacenter = searchParams.get(\"datacenter\");\n    const search = searchParams.get(\"search\");\n\n    // Build query string for backend API\n    const queryParams = new URLSearchParams();\n    queryParams.append(\"page\", page);\n    queryParams.append(\"limit\", limit);\n    \n    if (provider) queryParams.append(\"provider\", provider);\n    if (datacenter) queryParams.append(\"datacenter\", datacenter);\n    if (search) queryParams.append(\"search\", search);\n\n    const backendUrl = `${BACKEND_URL}/space/list?${queryParams.toString()}`;\n    console.log(\"Making request to:\", backendUrl);\n\n    const response = await axios.get(backendUrl, {\n      headers: {\n        Authorization: token.value.startsWith(\"Bearer \")\n          ? token.value\n          : `Bearer ${token.value}`,\n      },\n    });\n\n    // Return raw response from backend without modification\n    return NextResponse.json(response.data);\n  } catch (error: any) {\n    // Detailed error logging\n    console.error(\"Space list detailed error:\", {\n      message: error.message,\n      response: error.response?.data,\n      status: error.response?.status,\n      config: {\n        url: error.config?.url,\n        headers: error.config?.headers,\n      },\n    });\n\n    return NextResponse.json(\n      {\n        success: false,\n        message: \"Failed to fetch spaces\",\n        debug: {\n          error: error.message,\n          response: error.response?.data,\n        },\n      },\n      { status: error.response?.status || 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,4IAAO;QACjC,MAAM,QAAQ,YAAY,GAAG,CAAC;QAC9B,MAAM;QAEN,QAAQ,GAAG,CAAC,kBAAkB,OAAO;QACrC,QAAQ,GAAG,CAAC,wBAAwB;QAEpC,IAAI,CAAC,OAAO,OAAO;YACjB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAkB,GAC7C;gBAAE,QAAQ;YAAI;QAElB;QAEA;;QAIA,4CAA4C;QAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;QACzC,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;QAC3C,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,aAAa,aAAa,GAAG,CAAC;QACpC,MAAM,SAAS,aAAa,GAAG,CAAC;QAEhC,qCAAqC;QACrC,MAAM,cAAc,IAAI;QACxB,YAAY,MAAM,CAAC,QAAQ;QAC3B,YAAY,MAAM,CAAC,SAAS;QAE5B,IAAI,UAAU,YAAY,MAAM,CAAC,YAAY;QAC7C,IAAI,YAAY,YAAY,MAAM,CAAC,cAAc;QACjD,IAAI,QAAQ,YAAY,MAAM,CAAC,UAAU;QAEzC,MAAM,aAAa,GAAG,YAAY,YAAY,EAAE,YAAY,QAAQ,IAAI;QACxE,QAAQ,GAAG,CAAC,sBAAsB;QAElC,MAAM,WAAW,MAAM,kJAAK,CAAC,GAAG,CAAC,YAAY;YAC3C,SAAS;gBACP,eAAe,MAAM,KAAK,CAAC,UAAU,CAAC,aAClC,MAAM,KAAK,GACX,CAAC,OAAO,EAAE,MAAM,KAAK,EAAE;YAC7B;QACF;QAEA,wDAAwD;QACxD,OAAO,gJAAY,CAAC,IAAI,CAAC,SAAS,IAAI;IACxC,EAAE,OAAO,OAAY;QACnB,yBAAyB;QACzB,QAAQ,KAAK,CAAC,8BAA8B;YAC1C,SAAS,MAAM,OAAO;YACtB,UAAU,MAAM,QAAQ,EAAE;YAC1B,QAAQ,MAAM,QAAQ,EAAE;YACxB,QAAQ;gBACN,KAAK,MAAM,MAAM,EAAE;gBACnB,SAAS,MAAM,MAAM,EAAE;YACzB;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,SAAS;YACT,OAAO;gBACL,OAAO,MAAM,OAAO;gBACpB,UAAU,MAAM,QAAQ,EAAE;YAC5B;QACF,GACA;YAAE,QAAQ,MAAM,QAAQ,EAAE,UAAU;QAAI;IAE5C;AACF","debugId":null}}]
}